@model AdventurousContacts.Models.Contact

@*
    Form for createing and editing a contact
*@

@{
    var htmlAttributes = new { maxlength = "50", size = "50", @class = "form-control" };
    var submitValue = "Save";
    var validationSumHeader = "Edit was unsuccessfull. Please correct any errors and try again";
    if (Model == null || Model.IsNew)
    {
        submitValue = "Create";
        validationSumHeader = "Create was unsuccessfull. Please correct any errors and try again";
    }
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, validationSumHeader)
    @Html.HiddenFor(m => m.ContactID)

    <div class="form-group">
        @Html.LabelFor(m => m.FirstName)
        @Html.TextBoxFor(m => m.FirstName, htmlAttributes)
        @Html.ValidationMessageFor(m => m.FirstName)
    </div>
    
    <div class="form-group">
        @Html.LabelFor(m => m.LastName)
        @Html.TextBoxFor(m => m.LastName, htmlAttributes)
        @Html.ValidationMessageFor(m => m.LastName)
    </div>
    
    <div class="form-group">
        @Html.LabelFor(m => m.EmailAddress)
        @Html.TextBoxFor(m => m.EmailAddress, htmlAttributes)
        @Html.ValidationMessageFor(m => m.EmailAddress)
    </div>
    
    <p>    
        <button type="submit" class="btn btn-success">@submitValue</button>
        @Html.ActionLink("Back to contacts", "Index")
    </p>
}